---
title: September 16, 2021
tags: []
date: 2021-09-16
---

## Commons Prod Deployment Checklist

**Update Window:** Friday September 16, 14:00 - 18:00

**Personnel:** Terri, Michael, Temi, Marek, Edwin

**Order of Operation:**

1. Update changelogs for client, server, and API
1. Tag the client, server, and API releases (minor, minor, patch)
1. Take snapshots of all data
1. Run client, server, and API code builds via Jenkins
1. Run Prisma deploy Jenkins job
1. Run Prisma seed Jenkins job
1. Taxonomy bulk upload
1. Update tagging for the current Afghanistan playbook:
  - Tag with the "Current Topics" category
  - Tag with the "Afghanistan" country tag
  - Remove the "Afghanistan" policy priority tag
  - Publish changes
1. [Remove "Alliances and Partnerships" and "Afghanistan" policy priorities](#gql-policy) via GraphQL
1. ~~Update the `ui.json` file in the static assets to remove the "Alliances and Partnerships" Department priority section~~ - Completed 09/16 to update dev

**Code Snippets:**

<details id="gql-policy"><summary>GraphQL Delete policies Operations</summary>
  <pre><code class="language-graphql hljs">
    query POLICIES {
      policyPriorities {
        id
        name
        theme
      }
    }

    mutation DELETE_AFGHANISTAN_POLICY {
      deletePolicyPriority(
        where: { id: "cksouaajfeeq0074414dpzdze" }
      ) {
        id
        name
      }
    }

    mutation DELETE_ALLIANCES_POLICY {
      deletePolicyPriority(
        where: { id: "ckr802nqm9ors0744h5mhi91y" }
      ) {
        id
        name
      }
    }
  </code></pre>
</details>
